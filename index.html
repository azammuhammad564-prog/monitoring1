<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Dashboard Monitoring Sensor Raspberry Pi</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: #e9eef5;
        margin: 0;
        padding: 0;
    }

    .header {
        background: #1b3c73;
        color: white;
        padding: 20px;
        text-align: center;
        font-size: 30px;
        font-weight: bold;
        box-shadow: 0 3px 8px rgba(0,0,0,0.2);
    }

    .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
        padding: 20px;
    }

    .sensor-box {
        background: white;
        padding: 20px;
        border-radius: 15px;
        font-size: 22px;
        box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        transition: 0.3s;
    }

    .safe {
        border-left: 12px solid #2ecc71;
    }

    .danger {
        border-left: 12px solid #e74c3c;
        animation: blink 1.1s infinite;
    }

    @keyframes blink {
        50% { background-color: #ffe6e6; }
    }

    .status {
        font-weight: bold;
        display: block;
        margin-top: 10px;
    }

    .icon {
        font-size: 40px;
    }

    .time-box {
        text-align: center;
        padding-bottom: 10px;
        font-size: 18px;
        color: #333;
    }
</style>

</head>
<body>

<div class="header">ðŸ”¥ðŸ“¡ðŸšª Dashboard Monitoring Sensor </div>

<!-- GRID SENSOR -->
<div class="grid">

    <div id="box_fire" class="sensor-box safe">
        <span class="icon">ðŸ”¥</span> Flame Sensor
        <span id="fire" class="status"></span>
    </div>

    <div id="box_vibration" class="sensor-box safe">
        <span class="icon">ðŸ“¡</span> Vibration Sensor
        <span id="vibration" class="status"></span>
    </div>

    <div id="box_door" class="sensor-box safe">
        <span class="icon">ðŸšª</span> Door Sensor
        <span id="door" class="status"></span>
    </div>

    <div id="box_window" class="sensor-box safe">
        <span class="icon">ðŸªŸ</span> Window Sensor
        <span id="window" class="status"></span>
    </div>

</div>


<script>
function updateSensor() {
    fetch("http://YOUR_PI_IP:5000/sensor")   // ganti sesuai IP Raspberry
        .then(res => res.json())
        .then(data => {

            document.getElementById("time").innerHTML = 
                new Date().toLocaleTimeString();

            // === Flame Sensor ===
            if (data.fire === 1) {
                setSafe("box_fire", "fire", "Tidak Ada Api");
            } else {
                setDanger("box_fire", "fire", "ðŸ”¥ TERDETEKSI API!");
            }

            // === Vibration ===
            if (data.vibration === 1) {
                setSafe("box_vibration", "vibration", "Tidak Ada Getaran");
            } else {
                setDanger("box_vibration", "vibration", "ðŸ“¡ GETARAN TERDETEKSI!");
            }

            // === DOOR ===
            if (data.mag1 === 0) {
                setSafe("box_door", "door", "Pintu Tertutup");
            } else {
                setDanger("box_door", "door", "ðŸš¨ Pintu Terbuka!");
            }

            // === WINDOW ===
            if (data.mag2 === 0) {
                setSafe("box_window", "window", "Jendela Tertutup");
            } else {
                setDanger("box_window", "window", "ðŸš¨ Jendela Terbuka!");
            }

            // NOTE:
            // Buzzer TIDAK ditampilkan di UI,
            // tapi backend tetap mengirim data.alert
            // sehingga Raspberry Pi tetap bisa hidupkan buzzer.
        });
}

function setSafe(box, textId, text) {
    document.
